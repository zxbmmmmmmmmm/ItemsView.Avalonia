<ResourceDictionary
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Virtualization.Avalonia"
    xmlns:layouts="using:Virtualization.Avalonia.Layouts">
    <Design.PreviewWith>
        <StackPanel Width="400" Spacing="10">
            <StackPanel Background="{DynamicResource SystemRegionBrush}">
                <controls:ItemsView />
            </StackPanel>
        </StackPanel>
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type controls:ItemsView}" TargetType="controls:ItemsView">
        <Setter Property="Layout">
            <Setter.Value>
                <layouts:StackLayout />
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:ItemsView">
                    <ScrollViewer
                        x:Name="PART_ScrollViewer"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}">
                        <controls:ItemsRepeater
                            x:Name="PART_ItemsRepeater"
                            Margin="{TemplateBinding Padding}"
                            VerticalAlignment="Top"
                            HorizontalCacheLength="0"
                            ItemTemplate="{TemplateBinding ItemTemplate}"
                            ItemsSource="{TemplateBinding ItemsSource}"
                            Layout="{TemplateBinding Layout}" />
                    </ScrollViewer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </ControlTheme>
</ResourceDictionary>
